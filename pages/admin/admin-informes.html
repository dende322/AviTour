<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Informes - AviTour</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="../../css/global.css" />
    <link rel="stylesheet" href="../../css/admin-informes.css" />
    <!-- Font Awesome para iconos -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.4/font/bootstrap-icons.min.css"
    />

    <!-- Chart.js para gráficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <div
          class="col-md-3 col-lg-2 d-md-block admin-sidebar collapse"
          id="admin-sidebar"
        ></div>

        <!-- Contenido principal -->
        <div class="col-md-9 col-lg-10 admin-content">
          <!-- Pestañas de informes -->
          <ul class="nav nav-tabs mb-4" id="reportTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active btn-informe"
                id="consultas-tab"
                data-bs-toggle="tab"
                data-bs-target="#consultas"
                type="button"
                role="tab"
                aria-controls="consultas"
                aria-selected="true"
              >
                <i class="fas fa-search"></i> Informe de Consultas
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link btn-informe"
                id="visitas-tab"
                data-bs-toggle="tab"
                data-bs-target="#visitas"
                type="button"
                role="tab"
                aria-controls="visitas"
                aria-selected="false"
              >
                <i class="fas fa-eye"></i> Informe de Visitas
              </button>
            </li>
          </ul>

          <!-- Contenido de las pestañas -->
          <div class="tab-content" id="reportTabsContent">
            <!-- Informe de Consultas -->
            <div
              class="tab-pane fade show active"
              id="consultas"
              role="tabpanel"
              aria-labelledby="consultas-tab"
            >
              <div class="row mb-4">
                <div class="col-md-6 col-sm-12">
                  <div class="card h-100">
                    <div class="card-header">
                      <h5 class="mb-0">Especies más buscadas</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="especiesChart"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-sm-12">
                  <div class="card h-100">
                    <div class="card-header">
                      <h5 class="mb-0">Tendencia de búsquedas</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="tendenciaChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card card-styled card-table mb-4">
                <div class="card-header">
                  <h5 class="mb-0">Detalle de consultas por especie</h5>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>Especie</th>
                          <th>Nombre Científico</th>
                          <th>Total Consultas</th>
                          <th>Última Consulta</th>
                          <th>Tendencia</th>
                        </tr>
                      </thead>
                      <tbody id="consultas-table-body">
                        <!-- Datos de ejemplo -->
                        <tr>
                          <td>Águila Real</td>
                          <td>Aquila chrysaetos</td>
                          <td>245</td>
                          <td>Hoy, 10:23</td>
                          <td>
                            <span class="badge badge-success"
                              ><i class="fas fa-arrow-up"></i> 12%</span
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>Colibrí Esmeralda</td>
                          <td>Chlorostilbon assimilis</td>
                          <td>198</td>
                          <td>Ayer, 15:45</td>
                          <td>
                            <span class="badge badge-success"
                              ><i class="fas fa-arrow-up"></i> 8%</span
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>Búho Real</td>
                          <td>Bubo bubo</td>
                          <td>176</td>
                          <td>Hoy, 09:12</td>
                          <td>
                            <span class="badge badge-danger"
                              ><i class="fas fa-arrow-down"></i> 3%</span
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>Tucán Toco</td>
                          <td>Ramphastos toco</td>
                          <td>154</td>
                          <td>Hoy, 11:30</td>
                          <td>
                            <span class="badge badge-success"
                              ><i class="fas fa-arrow-up"></i> 15%</span
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>Flamenco Rosado</td>
                          <td>Phoenicopterus roseus</td>
                          <td>132</td>
                          <td>Ayer, 14:20</td>
                          <td>
                            <span class="badge badge-secondary"
                              ><i class="fas fa-equals"></i> 0%</span
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- Informe de Visitas -->
            <div
              class="tab-pane fade"
              id="visitas"
              role="tabpanel"
              aria-labelledby="visitas-tab"
            >
              <div class="row mb-4">
                <div class="col-md-4">
                  <div class="card card-styled text-center mb-4">
                    <div class="card-body">
                      <h3 class="display-4 text-primary">15,842</h3>
                      <p class="lead"><strong>Visitas Totales</strong></p>
                      <p class="text-success">
                        <i class="fas fa-arrow-up"></i> 12.5% vs mes anterior
                      </p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card card-styled text-center mb-4">
                    <div class="card-body">
                      <h3 class="display-4 text-primary">4:32</h3>
                      <p class="lead"><strong>Tiempo Promedio</strong></p>
                      <p class="text-success">
                        <i class="fas fa-arrow-up"></i> 0:45 vs mes anterior
                      </p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card card-styled text-center mb-4">
                    <div class="card-body">
                      <h3 class="display-4 text-primary">68%</h3>
                      <p class="lead"><strong>Tasa de Retorno</strong></p>
                      <p class="text-danger">
                        <i class="fas fa-arrow-down"></i> 3% vs mes anterior
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row mb-4">
                <div class="col-md-8">
                  <div class="card h-100">
                    <div class="card-header">
                      <h5 class="mb-0">Visitas por día</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="visitasChart"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card h-100">
                    <div class="card-header">
                      <h5 class="mb-0">Fuentes de tráfico</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="fuentesChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card card-styled mb-4">
                <div class="card-header">
                  <h5 class="mb-0">Páginas más visitadas</h5>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>Página</th>
                          <th>Visitas</th>
                          <th>Tiempo Promedio</th>
                          <th>Tasa de Rebote</th>
                          <th>Conversión</th>
                        </tr>
                      </thead>
                      <tbody id="paginas-table-body">
                        <!-- Datos de ejemplo -->
                        <tr>
                          <td>/especies.html</td>
                          <td>4,256</td>
                          <td>3:45</td>
                          <td>32%</td>
                          <td>8.2%</td>
                        </tr>
                        <tr>
                          <td>/index.html</td>
                          <td>3,845</td>
                          <td>2:30</td>
                          <td>45%</td>
                          <td>5.7%</td>
                        </tr>
                        <tr>
                          <td>/eventos.html</td>
                          <td>2,654</td>
                          <td>4:12</td>
                          <td>28%</td>
                          <td>12.3%</td>
                        </tr>
                        <tr>
                          <td>/galeria.html</td>
                          <td>2,123</td>
                          <td>5:30</td>
                          <td>22%</td>
                          <td>7.8%</td>
                        </tr>
                        <tr>
                          <td>/sitios.html</td>
                          <td>1,987</td>
                          <td>3:15</td>
                          <td>35%</td>
                          <td>6.4%</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- JavaScript para login -->
    <script src="../../js/login.js"></script>
    <!-- JavaScript para sidebar-->
    <script src="../../js/main.js"></script>
    <!-- JavaScript para informes -->
    <script src="../../js/admin-informes.js"></script>
  </body>
</html>
